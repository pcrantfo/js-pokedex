let pokemonRepository=function(){let e=[];return{add:function(t){e.push(t)},getAll:function(){return e},findByName:function(e){let t=pokemonRepository.getAll().filter(t=>t.name===e);return 0===t.length?alert(`${e} not in pokemonList`):t},showDetails:function(e){let t=document.createElement("div");t.classList.add("info");let n=document.createElement("img");n.classList.add("info-image"),n.src=e.imageUrl;let o=document.createElement("div");o.classList.add("info-interior-div");let i=document.createElement("div");i.classList.add("info-content");let l=function(e){let t="",n=1;return e.forEach(function(o){parseInt(e.length)===n?t+=o.type.name:(t+=`${o.type.name}, `,n+=1)}),t}(e.types);return i.innerHTML=`\n                <p><strong>Height:</strong> ${e.height}m.</p>\n                <p><strong>Types:</strong> ${l}\n            `,t.appendChild(n),o.appendChild(i),t.appendChild(o),t},addListItem:function(e){let t=document.createElement("li");t.classList.add("pokemon-list__item");let n=document.createElement("button");n.classList.add("pokemon-list__button"),pokemonRepository.loadDetails(e).then(function(){let o=pokemonRepository.showDetails(e);n.addEventListener("click",function(e){e.currentTarget.querySelectorAll(".pokemon-list__toggle").forEach(e=>e.classList.toggle("is-not-visible")),o.classList.contains("is-visible")?(o.classList.toggle("is-visible"),o.remove(),t.classList.toggle("clicked")):(console.log(o),o.classList.toggle("is-visible"),t.appendChild(o),t.classList.toggle("clicked"))})});let o=document.createElement("div");o.classList.add("button-header");let i=document.createElement("h2");i.innerText=e.name;let l=document.createElement("div");l.classList.add("pokemon-list__toggle"),l.innerHTML="<p>show more +</p>";let s=document.createElement("div");return s.classList.add("pokemon-list__toggle","is-not-visible"),s.innerHTML="<p>Show less -</p>",o.appendChild(i),o.appendChild(l),o.appendChild(s),n.appendChild(o),t.appendChild(n),t},pokemonListBox:function(){let e=pokemonRepository.getAll(),t=document.createElement("ul");t.classList.add("pokemon-list");let n=document.createElement("h1");n.innerText="POKEMON",t.appendChild(n),e.forEach(function(e){pokemonRepository.loadDetails(e);let n=pokemonRepository.addListItem(e);t.appendChild(n)}),document.getElementsByTagName("main")[0].appendChild(t)},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};pokemonRepository.add(t)})}).catch(function(e){console.error(e)})},loadDetails:function(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.pokemonListBox()});